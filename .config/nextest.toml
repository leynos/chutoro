# .config/nextest.toml
[profile.default]
# Limit test concurrency to avoid overwhelming the system when tests also use
# parallelism internally (e.g., Rayon thread pools within each test).
test-threads = 8
# Kill any test once it crosses 60s.
slow-timeout = { period = "60s", terminate-after = 1, grace-period = "5s" }

# Put a hard ceiling on the whole run.
global-timeout = "10m"

[[profile.default.overrides]]
# Property suites can run slower under heavy parallel load.
filter = "test(/hnsw::tests::property::/)"
slow-timeout = { period = "120s", terminate-after = 1, grace-period = "5s" }
